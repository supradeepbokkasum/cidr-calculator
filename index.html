<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Loading...</title>
  <link rel="stylesheet" href="https://supradeepbokkasum.github.io/cosmicchutney-assets/css/common.css" />
  <style>
    .modal {
      display: none;
      position: fixed;
      z-index: 99;
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.6);
    }
    .modal-content {
      background: white;
      margin: 10% auto;
      padding: 20px;
      border-radius: 8px;
      width: 90%; max-width: 500px;
    }
    .modal-content h2 {
      margin-top: 0;
    }
    .modal-content input, .modal-content textarea {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      box-sizing: border-box;
    }
    .modal-content button {
      margin-top: 15px;
      padding: 10px 15px;
      cursor: pointer;
    }
    .close-btn {
      float: right;
      font-weight: bold;
      cursor: pointer;
      color: #999;
    }
    .close-btn:hover { color: #000; }
    .form-status {
      margin-top: 10px;
      font-size: 0.9rem;
    }
  </style>

  <script>
    window.pageConfig = {
      title: "CosmicChutney - CIDR calculator",
      iframeUrl: "https://507e31fb.cidr-calculator-2kl.pages.dev/",
      headerTitle: "CIDR calculator"
    };
  </script>
  <script src="https://supradeepbokkasum.github.io/cosmicchutney-assets/js/common.js" defer></script>
</head>
<body>
  <div class="header">
    <img src="/cosmicchutney.webp" alt="Cosmic Chutney Logo" class="logo" />
    <span id="headerTitle">Cosmic Chutney</span>
  </div>

  <button class="menu-button" onclick="toggleMenu()">‚ò∞ Menu</button>
  <div id="menu-container"></div>

  <div class="content-wrapper">
    <div class="content">
      <iframe id="pageFrame" class="iframe-container" title="Tool iframe"></iframe>
    </div>
    <div class="ad-sidebar">Ad Space</div>
  </div>

  <div class="footer">
    ¬© 2025 CosmicChutney. All Rights Reserved. |
    <a href="#" onclick="openModal('aboutModal')" style="color: white; text-decoration: none; margin: 0 10px;">About Us</a> |
    <a href="#" onclick="openModal('contactModal')" style="color:white; margin:0 10px;">Contact Us</a> |
    <a href="#" onclick="openModal('ideaModal')" style="color:white; margin:0 10px;">Ideas?</a>
  </div>

  <!-- Contact Modal -->
  <div id="contactModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('contactModal')">&times;</span>
      <h2>Contact Us</h2>
      <form id="contactForm">
        <input type="text" name="name" placeholder="Your Name" required />
        <input type="email" name="email" placeholder="Your Email" required />
        <textarea name="message" rows="4" placeholder="Your Message" required></textarea>
        <button type="submit">Send</button>
        <p id="contactStatus" class="form-status"></p>
      </form>
    </div>
  </div>

  <!-- Idea Modal -->
  <div id="ideaModal" class="modal">
    <div class="modal-content">
      <span class="close-btn" onclick="closeModal('ideaModal')">&times;</span>
      <h2>Suggest an Idea</h2>
      <form id="ideaForm">
        <input type="text" name="name" placeholder="Your Name (optional)" />
        <textarea name="idea" rows="4" placeholder="Your idea..." required></textarea>
        <button type="submit">Submit</button>
        <p id="ideaStatus" class="form-status"></p>
      </form>
    </div>
  </div>

<!-- About Modal -->
<div id="aboutModal" class="modal">
  <div class="modal-content">
    <span class="close-btn" onclick="closeModal('aboutModal')">&times;</span>
    <h2>About Cosmic Chutney</h2>
    <p>
      This project started as an experimental collection of utility tools I maintained on my local machine. Over time, a few of these became useful for colleagues and friends, and I realized it made sense to turn them into a simple, shareable portal.
    </p>
    <p>
      If you‚Äôve found these tools helpful, feedback is always welcome. And if you can, spread the word ‚Äî it‚Äôll help continue and grow the project! üöÄ
    </p>
  </div>
</div>
  

  <script>
    function openModal(id) {
      document.getElementById(id).style.display = "block";
    }

    function closeModal(id) {
      document.getElementById(id).style.display = "none";
    }

    // AJAX Form Submission ‚Äî Contact
    document.getElementById("contactForm").addEventListener("submit", async function (e) {
      e.preventDefault();
      const form = e.target;
      const status = document.getElementById("contactStatus");
      const data = Object.fromEntries(new FormData(form).entries());

      const res = await fetch("https://formspree.io/f/xaneoedq", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      if (res.ok) {
        status.textContent = "‚úÖ Message sent!";
        form.reset();
      } else {
        status.textContent = "‚ùå Something went wrong. Please try again.";
      }
    });

    // AJAX Form Submission ‚Äî Ideas
    document.getElementById("ideaForm").addEventListener("submit", async function (e) {
      e.preventDefault();
      const form = e.target;
      const status = document.getElementById("ideaStatus");
      const data = Object.fromEntries(new FormData(form).entries());

      const res = await fetch("https://formspree.io/f/xdkegelk", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });

      if (res.ok) {
        status.textContent = "‚úÖ Thank you for your idea!";
        form.reset();
      } else {
        status.textContent = "‚ùå Something went wrong. Please try again.";
      }
    });

    // Close modal on outside click
    window.onclick = function(event) {
      if (event.target.classList.contains("modal")) {
        event.target.style.display = "none";
      }
    };
  </script>
</body>
</html>
